{% extends "base.html" %}
{% load wagtailimages_tags %}

{% block content %}
<div class="min-h-screen flex flex-col">
    <div class="bg-white border-b border-gray-200 px-5 py-2.5 fixed top-0 inset-x-0 z-20">
        <div class="flex items-center gap-5">
            <button id="burger" type="button" aria-label="Expand sidebar" class="md:hidden">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            </button>
            {% if settings.documentation.DocumentationSettings.doc_logo %}
            {% image settings.documentation.DocumentationSettings.doc_logo width-300 class="h-[40px] w-auto" %}
            {% else %}
            <div
                class="w-[180px] h-[40px] flex justify-center items-center font-semibold text-lg bg-gray-800 text-white rounded-lg">
                Your Logo
            </div>
            {% endif %}
        </div>
    </div>
    <div id="sidebar"
        class="py-6 border-r bg-white border-gray-200 w-80 flex flex-shrink-0 flex-col gap-4 z-10 fixed top-[61px] bottom-0 transition ease-in-out -translate-x-full overflow-y-auto md:translate-x-0">
        {% for child_doc in page.get_root_doc.get_children.live.in_menu %}
        <div>
            <a href="{{ child_doc.url }}"
                class="block px-8 py-2 font-semibold text-lg transition border-l-4 border-transparent {% if page.url == child_doc.url %} text-blue-400 !border-blue-400 {% endif %} hover:text-blue-400">
                {{ child_doc.title }}
            </a>
            {% for sub_child_doc in child_doc.get_children.live.in_menu %}
            <a href="{{ sub_child_doc.url }}"
                class="block relative px-12 py-2 text-sm transition border-l-4 border-transparent {% if page.url == sub_child_doc.url %} text-blue-400 font-medium !border-blue-400 {% endif %} hover:text-blue-400">
                {{ sub_child_doc.title }}
            </a>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    <div class="mt-[61px] flex-1 p-6 min-w-0 md:ml-80">
        <div class="max-w-3xl mx-auto">
            {% block documentation_content %}
            {% endblock %}
        </div>
    </div>
</div>

<script>
    const burger = document.getElementById('burger');
    const sidebar = document.getElementById('sidebar');

    burger.addEventListener('click', () => {
        sidebar.classList.toggle('-translate-x-full');
    });
</script>
{% endblock %}